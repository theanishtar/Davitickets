<!-- <div id="toast"></div> -->
<!-- <main style="background: #222222;"> -->
<nav class="navbar navbar-expand-lg">
	<div class="container">
		<a class="navbar-brand" href="/home">
			DaviTicket
		</a>

		<a href="list-movie-booking.html" class="btn custom-btn d-lg-none ms-auto me-4">Đặt vé</a>

		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
			aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav align-items-lg-center ms-auto me-lg-5">
				<li class="nav-item">
					<a class="nav-link" href="/home">Trang chủ</a>
				</li>
				<!-- <li class="nav-item">
                    <a class="nav-link" href="/history">Lịch sử</a>
                  </li> -->
				<li class="nav-item dropdown">
					<span class="nav-link">Tài khoản <i class="fa-solid fa-chevron-down"></i></span>
					<div class="dropdown-content">
						<a class="nav-link dropdown" href="/login">Đăng nhập</a>
						<a class="nav-link dropdown" href="/forgotpass">Quên mật khẩu</a>
						<!-- <a class="nav-link" href="/home">Đăng xuất</a> -->
					</div>
				</li>
			</ul>

			<!-- <a href="/listMovieBooking" class="btn custom-btn d-lg-block d-none">Đặt vé</a> -->
		</div>
	</div>
</nav>


<!-- LOGIN FORM CREATION -->
<section class="main-form">
	<div class="background"></div>
	<div *ngIf="checkForm==true" class="container-form">
		<div class="login-section">
			<div class="form-box login">
				<form id="loginForm" [formGroup]="loginForm" (ngSubmit)="loginWithEmailAndPassword()" novalidate>
					<h2>Đăng nhập</h2>
					<div class="input-box">
						<input type="text" formControlName="email" id="email" required>
						<label>Email</label>
						<!-- <span *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
              <div style="color: red;">
                Vui lòng kiểm tra email!
              </div>
            </span> -->
					</div>

					<div class="input-box" style="margin-bottom: 3rem;">
						<span class="form-item-icon-eye hide-show-pass"> <i (click)="showHidePass()" class="fa-regular fa-eye"
								id="eye"></i>
						</span>
						<input formControlName="password" name="password" type="password" id="passwordForm" required>
						<label>Mật khẩu</label>
						<!-- <span *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
              <div style="color: red;">
                Vui lòng nhập mật khẩu!
              </div>
            </span> -->
					</div>

					<div class="remember-password">
						<label for=""><input type="checkbox" (change)="bulk($event)">Duy trì đăng nhập</label>
						<a href="/forgotpass">Quên mật khẩu</a>
					</div>
					<button class="btn-login" type="submit">Đăng nhập</button>
					<hr>
					<div class="btn-wGoogle" (click)="loginGGClick()">
						<svg class="gg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px"
							height="48px">
							<path fill="#FFC107"
								d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z" />
							<path fill="#FF3D00"
								d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z" />
							<path fill="#4CAF50"
								d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z" />
							<path fill="#1976D2"
								d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z" />
						</svg>
						Đăng nhập với Google
					</div>

					<!-- <div class="login-gg" (click)="onButtonClick2()">
						<div class="text-center">
							<div class="method-control">
								<div id="g_id_onload" data-width="80"
									data-client_id="829042615252-9cgbgmdc55famceanr15b20dq3kns76m" data-ux_mode="redirect"
									data-callback="handleCredentialResponse" data-login_uri="http://localhost:8080/login/oauth">
								</div>
								<div class="g_id_signin" data-type="standard"></div>
							</div>
						</div>
					</div> -->
					<div class="create-account">
						<p>Bạn chưa có tài khoản? <a (click)="clickChangeForm()" class="register-link">Đăng ký</a></p>
					</div>
				</form>
			</div>
			<div class="form-box register">
				<form id="registerForm" [formGroup]="registerForm" (ngSubmit)="register()" action="" novalidate>

					<h2 style="margin-top: 15px;">Đăng ký</h2>

					<div class="input-box">
						<input type="text" formControlName="full_name" id="full_name" required>
						<label>Họ tên</label>
						<span *ngIf="registerForm.get('full_name')?.invalid && registerForm.get('full_name')?.touched">
							<div style="color: red;">
								Vui lòng nhập họ tên!
							</div>
						</span>
					</div>
					<div class="input-box">
						<input type="text" name="phone" pattern="^(0\d{9})$" formControlName="phone" id="phone" required>
						<label>Số điện thoại</label>
						<span
							*ngIf="registerFormControl['phone'].invalid && (registerFormControl['phone'].dirty || registerFormControl['phone'].touched || submitted)">
							<div *ngIf="registerFormControl['phone'].errors" style="color: red;">
								<div *ngIf="registerFormControl['phone'].errors['required']" style="color: red;">
									Vui lòng nhập số điện thoại
								</div>
								<div *ngIf="registerFormControl['phone'].errors['pattern']" style="color: red;">
									Vui lòng kiểm tra lại số điện thoại!
								</div>
							</div>

						</span>
					</div>
					<div class="input-box">
						<input type="text" formControlName="email" id="email" required>
						<label>Email</label>
						<span *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
							<div style="color: red;">
								Vui lòng kiểm tra email!
							</div>
						</span>
					</div>
					<div class="input-box">
						<input type="password" formControlName="password" id="password" required>
						<label>Mật khẩu</label>
						<span *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
							<div style="color: red;">
								Vui lòng nhập mật khẩu!
							</div>
						</span>
					</div>
					<button class="btn-register" type="submit">Đăng ký</button>
					<div class="create-account">
						<p>Bạn đã có tài khoản? <a (click)="clickChangeForm()" class="login-link">Đăng nhập</a></p>
					</div>
				</form>
			</div>
		</div>
	</div>



	<div *ngIf="checkForm ==false" class="verification-form">
		<div class="verification-card-container">
			<div class="verification-card">
				<div class="verification-card-logo">
					DaviTicket
				</div>
				<div class="verification-card-header">
					<h1>Mã xác nhận</h1>
					<div>Vui lòng kiểm tra email để nhận mã</div>
				</div>
				<form class="verification-card-form" id="verificationForm" [formGroup]="verificationForm"
					(ngSubmit)="checkCodeMail()" action="" novalidate>
					<div class="form-item">
						<span class="form-item-icon material-symbols-rounded">
							<i class="fa-solid fa-key" style="padding-top: 10px;"></i>
						</span>
						<input type="text" formControlName="maxn" placeholder="Nhập mã" id="verificationForm" required>
					</div>
					<button type="submit">Xác nhận</button>
				</form>
			</div>
			<div class="verification-card-footer">
				Bạn muốn quay lại? <a href="">Đăng nhập</a>
			</div>
		</div>
	</div>
	<script>
		document.getElementById("log-ggas").onclick = function () {
			alert("hello");
			//validation code to see State field is mandatory.  
		}

		function a() {
			alert(5678)
		}
	</script>
</section>
<!-- </main> -->